---
author: Army
title: Database Sharding
slug: db_sharding_summary
featured: false
tags:
  - tech
  - fundamental
description:  ‡∏•‡∏≠‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤ database sharding
---



## üî∑ 1. Partition Strategies (‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡πà‡∏á‡∏û‡∏≤‡∏£‡πå‡∏ó‡∏¥‡∏ä‡∏±‡∏ô)

### 1.1 Vertical Partition (‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á)
- ‡πÅ‡∏¢‡∏Å **‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå (column)** ‡πÄ‡∏ä‡πà‡∏ô:
  - Table A: `ID`, `First Name`
  - Table B: `Last Name`
- ‚úÖ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏¢‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô ‡πÄ‡∏ä‡πà‡∏ô ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û, ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡πà‡∏≠‡∏¢

### 1.2 Horizontal Partition (‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô)
- ‡πÅ‡∏¢‡∏Å **‡∏ï‡∏≤‡∏°‡πÅ‡∏ñ‡∏ß (row)** ‡πÄ‡∏ä‡πà‡∏ô:
  - Table 1: ID 1‚Äì2
  - Table 2: ID 3‚Äì4
- ‚úÖ ‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏¢‡∏≠‡∏∞ ‡πÅ‡∏•‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡πÇ‡∏´‡∏•‡∏î

---

## üß© 2. Sharding ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?
- ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏ô‡∏≥ Horizontal Partition ‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞ **Distributed Database**
- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡∏π‡∏Å‡πÅ‡∏¢‡∏Å‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡πÜ ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠ Server (‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ß‡πà‡∏≤ ‚ÄúShard‚Äù)

---

## üî∂ 3. Range Based Sharding

### üß† ‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î
- ‡πÅ‡∏ö‡πà‡∏á shard ‡∏ï‡∏≤‡∏° **‡∏ä‡πà‡∏ß‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡πà‡∏≤‡∏ö‡∏≤‡∏á‡∏ü‡∏¥‡∏•‡∏î‡πå** ‡πÄ‡∏ä‡πà‡∏ô ‡∏≠‡∏≤‡∏¢‡∏∏ (`Age`)

### üß™ ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á
```text
Age ‚â§ 30     ‚Üí Shard 1
30 < Age ‚â§ 40 ‚Üí Shard 2
Age > 40     ‚Üí Shard 3
```

### ‚ö†Ô∏è ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢
- ‡∏ñ‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏£‡∏∞‡∏à‡∏∏‡∏Å‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡πÉ‡∏î‡∏ä‡πà‡∏ß‡∏á‡∏´‡∏ô‡∏∂‡πà‡∏á ‚Üí ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏°‡πà‡∏™‡∏°‡∏î‡∏∏‡∏• (Unbalanced Load)

---

## üü¢ 4. Key Based Sharding (Hash Sharding)

### üß† ‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î
- ‡πÉ‡∏ä‡πâ **Hash Function** ‡∏Å‡∏±‡∏ö‡∏Ñ‡∏µ‡∏¢‡πå ‡πÄ‡∏ä‡πà‡∏ô `ID` ‡πÅ‡∏•‡πâ‡∏ß mod ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô shard

### üîç ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á
```text
Shard = hash(ID) % 3
```

### ‚úÖ ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ
- ‡πÇ‡∏´‡∏•‡∏î‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡πÑ‡∏î‡πâ **‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠ (Even Distribution)**

### ‚ö†Ô∏è ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢
- ‡∏Ç‡∏¢‡∏≤‡∏¢‡∏à‡∏≥‡∏ô‡∏ß‡∏ô shard ‡∏¢‡∏≤‡∏Å (Re-hash ‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡πÉ‡∏´‡∏°‡πà‡∏´‡∏°‡∏î)

---

## üü† 5. Directory Based Sharding

### üß† ‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î
- ‡πÉ‡∏ä‡πâ Directory Server ‡∏Ñ‡∏≠‡∏¢‡πÄ‡∏Å‡πá‡∏ö **Mapping ID ‚Üî Shard**

### üîç ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Mapping
```text
ID 1,2 ‚Üí Shard A
ID 3,4 ‚Üí Shard B
```

### ‚úÖ ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ
- ‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô: ‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô mapping ‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢

### ‚ö†Ô∏è ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢
- ‡∏´‡∏≤‡∏Å Directory ‡πÄ‡∏™‡∏µ‡∏¢ ‚Üí **Single Point of Failure**

---

## üß≠ ‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏ä‡πâ

| Sharding Type         | ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ                        | ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢                          |
|----------------------|-----------------------------|----------------------------------|
| Range Based          | ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏á‡πà‡∏≤‡∏¢                  | ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏°‡πà‡∏™‡∏°‡∏î‡∏∏‡∏•‡∏ñ‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏£‡∏∞‡∏à‡∏∏‡∏Å     |
| Key Based (Hash)     | ‡πÇ‡∏´‡∏•‡∏î‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡∏î‡∏µ                | ‡∏Ç‡∏¢‡∏≤‡∏¢‡∏£‡∏∞‡∏ö‡∏ö‡∏¢‡∏≤‡∏Å                    |
| Directory Based      | ‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô ‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏á‡πà‡∏≤‡∏¢    | ‡∏ï‡πâ‡∏≠‡∏á‡∏î‡∏π‡πÅ‡∏• Directory Server ‡πÄ‡∏û‡∏¥‡πà‡∏°  |

---

## üéØ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡πÉ‡∏Ñ‡∏£?
- ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏°‡∏µ **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≤‡∏Å**
- ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ **‡∏Ç‡∏¢‡∏≤‡∏¢‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•** ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏•‡∏î performance
- ‡πÄ‡∏ä‡πà‡∏ô Social Media, E-Commerce, ‡∏´‡∏£‡∏∑‡∏≠ Big Data Platform

---

## üìù Reference
- Credit: ByteByteGo @ Sec.10 (Infographic)
